<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/docs/4-diagrams/DDD.puml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/docs/4-diagrams/DDD.puml" />
              <option name="originalContent" value="@startuml&#10;!theme plain&#10;hide circle&#10;top to bottom direction&#10;!pragma useVerticalIf on&#10;skinparam dpi 350&#10;skinparam packageStyle rectangle&#10;skinparam rectangle {&#10;  BackgroundColor #f7f4eb&#10;  BorderColor Black&#10;}&#10;&#10;' === DDD DEFINITIONS ===&#10;!define ENTITY(e) class e &lt;&lt;Entity&gt;&gt;&#10;!define AGGREGATE(a) class a &lt;&lt;Aggregate&gt;&gt;&#10;!define AGGREGATE_ROOT(ar) class ar &lt;&lt;Aggregate Root&gt;&gt;&#10;!define VALUE_OBJECT(vo) class vo &lt;&lt;Value Object&gt;&gt;&#10;!define ENUM(enum) class enum &lt;&lt;Enum&gt;&gt;&#10;&#10;title Envision Ad Platform - Domain Driven Design Context Map&#10;&#10;' ===============================&#10;' Media OWNER MANAGEMENT&#10;' ===============================&#10;package &quot;Media Owner Management Subdomain&quot; #LightGreen {&#10;  AGGREGATE_ROOT(MediaOwner) #LightBlue {&#10;    userId: UUID&#10;    businessName: String&#10;  }&#10;&#10;  ENTITY(MediaAsset) #LightBlue {&#10;    title: String&#10;    estimatedWeeklyViews: Int&#10;    pricePerWeek: Decimal&#10;    width: Float&#10;    height: Float&#10;    image: URL&#10;    mediaCorners: double[4]&#10;  }&#10;&#10;  ENTITY(MediaType) #LightBlue {&#10;    mediaTypeId: UUID&#10;    name: String&#10;    description: String&#10;  }&#10;&#10;  ENUM(Status) #Orange {&#10;    ACTIVE&#10;    INACTIVE&#10;    PENDING&#10;    REJECTED&#10;  }&#10;&#10;  VALUE_OBJECT(MediaIdentifier) #Bisque {&#10;    mediaId: UUID&#10;  }&#10;&#10;  VALUE_OBJECT(MediaLocation) #Bisque {&#10;    latitude: Float&#10;    longitude: Float&#10;    address: String&#10;  }&#10;&#10;  VALUE_OBJECT(RevenueSummary) #Bisque {&#10;    totalRevenue: Decimal&#10;    lastPaymentDate: Date&#10;  }&#10;&#10;  MediaOwner &quot;1&quot; o--&gt; &quot;1..*&quot; MediaAsset&#10;  MediaOwner &quot;1&quot; o--&gt; &quot;1..*&quot; RevenueSummary&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1..*&quot; MediaLocation&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; MediaIdentifier&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; MediaType&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' ADVERTISEMENT &amp; BOOKING&#10;' ===============================&#10;package &quot;Advertisement Subdomain&quot; #LightCoral {&#10;  AGGREGATE_ROOT(AdvertisementCampaign) #LightBlue {&#10;    startDate: Date&#10;    endDate: Date&#10;    budget: Decimal&#10;  }&#10;&#10;  AGGREGATE_ROOT(Advertiser) #LightBlue {&#10;    userId: UUID&#10;    Budget: Decimal&#10;    Employees: Int&#10;  }&#10;&#10;  VALUE_OBJECT(Verification) #Bisque {&#10;    verified: Boolean&#10;    verifiedDate: Date&#10;  }&#10;&#10;  ENTITY(Advertisement) #LightBlue {&#10;    placementId: UUID&#10;    screenTimeMinutes: Int&#10;    cost: Decimal&#10;    approvedByOwner: Boolean&#10;  }&#10;&#10;  ENUM(Status) #Orange {&#10;    ACTIVE&#10;    PENDING&#10;    REJECTED&#10;    EXPIRED&#10;  }&#10;&#10;  VALUE_OBJECT(AdIdentifier) #Bisque {&#10;    adId: UUID&#10;  }&#10;&#10;  Advertiser &quot;1&quot; o--&gt; &quot;1&quot; Verification&#10;  Advertiser &quot;1&quot; o--&gt; &quot;0..*&quot; AdvertisementCampaign&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1&quot; AdIdentifier&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1..*&quot; Advertisement&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' TRANSACTIONS&#10;' ===============================&#10;package &quot;Transactions Subdomain&quot; #LightPink {&#10;  AGGREGATE_ROOT(Transaction) #LightBlue {&#10;    companyName: String&#10;    amount: Decimal&#10;    timestamp: DateTime&#10;  }&#10;&#10;  ENTITY(Invoice) #LightBlue {&#10;    invoiceId: UUID&#10;    dueDate: Date&#10;    paid: Boolean&#10;  }&#10;&#10;   ENUM(Status) #Orange {&#10;     SUCCESS&#10;     PENDING&#10;     FAILED&#10;   }&#10;&#10;  VALUE_OBJECT(TransactionIdentifier) #Bisque {&#10;    transactionId: UUID&#10;  }&#10;&#10;  VALUE_OBJECT(BillingAddress) #Bisque {&#10;    street : String&#10;    city : String&#10;    province : String&#10;    postalCode : String&#10;  }&#10;&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; BillingAddress&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; Invoice&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; TransactionIdentifier&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' ADMIN &amp; MODERATION&#10;' ===============================&#10;package &quot;Admin &amp; Moderation Subdomain&quot; #LightCyan {&#10;  AGGREGATE_ROOT(Admin) #LightBlue {&#10;    userId: UUID&#10;  }&#10;&#10;  ENTITY(VerificationRequest) #LightBlue {&#10;    requestId: UUID&#10;    advertiserId: UUID&#10;    submittedDocs: URL&#10;  }&#10;&#10;  ENTITY(ContentModeration) #LightBlue {&#10;    moderationId: UUID&#10;    mediaId: UUID&#10;    reason: String&#10;  }&#10;&#10; ENUM(Status) #Orange {&#10;     PENDING&#10;     APPROVED&#10;     REJECTED&#10;   }&#10;&#10;   ENUM(Decision) #Orange {&#10;        ACCEPTED&#10;        DENIED&#10;      }&#10;&#10;  Admin o--&gt; VerificationRequest&#10;  Admin o--&gt; ContentModeration&#10;  VerificationRequest o--&gt; Status&#10;  ContentModeration o--&gt; Decision&#10;}&#10;&#10;' ===============================&#10;' REPORTING &amp; ANALYTICS&#10;' ===============================&#10;package &quot;Reporting Subdomain&quot; #LightGray {&#10;  AGGREGATE_ROOT(Report) #LightBlue {&#10;    reportId: UUID&#10;    generatedAt: DateTime&#10;  }&#10;&#10;  ENTITY(ReportData) #LightBlue {&#10;    dataId: UUID&#10;    metricId: UUID&#10;    value: String&#10;  }&#10;&#10;  ENTITY(Metrics) #LightBlue {&#10;    metricId: UUID&#10;    name: String&#10;    description: String&#10;  }&#10;&#10;  Report &quot;1&quot; o--&gt; &quot;1..*&quot; ReportData&#10;  ReportData &quot;1&quot; o--&gt; &quot;1&quot; Metrics&#10;}&#10;&#10;@enduml&#10;" />
              <option name="updatedContent" value="@startuml&#10;!theme plain&#10;hide circle&#10;top to bottom direction&#10;!pragma useVerticalIf on&#10;skinparam dpi 350&#10;skinparam packageStyle rectangle&#10;skinparam rectangle {&#10;  BackgroundColor #f7f4eb&#10;  BorderColor Black&#10;}&#10;&#10;' === DDD DEFINITIONS ===&#10;!define ENTITY(e) class e &lt;&lt;Entity&gt;&gt;&#10;!define AGGREGATE(a) class a &lt;&lt;Aggregate&gt;&gt;&#10;!define AGGREGATE_ROOT(ar) class ar &lt;&lt;Aggregate Root&gt;&gt;&#10;!define VALUE_OBJECT(vo) class vo &lt;&lt;Value Object&gt;&gt;&#10;!define ENUM(enum) class enum &lt;&lt;Enum&gt;&gt;&#10;&#10;title Envision Ad Platform - Domain Driven Design Context Map&#10;&#10;' ===============================&#10;' Media OWNER MANAGEMENT&#10;' ===============================&#10;package &quot;Media Owner Management Subdomain&quot; #LightGreen {&#10;  AGGREGATE_ROOT(MediaOwner) #LightBlue {&#10;    userId: UUID&#10;    businessName: String&#10;  }&#10;&#10;  ENTITY(MediaAsset) #LightBlue {&#10;    title: String&#10;    estimatedWeeklyViews: Int&#10;    pricePerWeek: Decimal&#10;    width: Float&#10;    height: Float&#10;    image: URL&#10;    mediaCorners: double[4]&#10;  }&#10;&#10;  ENTITY(MediaType) #LightBlue {&#10;    mediaTypeId: UUID&#10;    name: String&#10;    description: String&#10;  }&#10;&#10;  ENUM(Status) #Orange {&#10;    ACTIVE&#10;    INACTIVE&#10;    PENDING&#10;    REJECTED&#10;  }&#10;&#10;  VALUE_OBJECT(MediaIdentifier) #Bisque {&#10;    mediaId: UUID&#10;  }&#10;&#10;  VALUE_OBJECT(MediaLocation) #Bisque {&#10;    latitude: Float&#10;    longitude: Float&#10;    address: String&#10;  }&#10;&#10;  VALUE_OBJECT(RevenueSummary) #Bisque {&#10;    totalRevenue: Decimal&#10;    lastPaymentDate: Date&#10;  }&#10;&#10;  MediaOwner &quot;1&quot; o--&gt; &quot;1..*&quot; MediaAsset&#10;  MediaOwner &quot;1&quot; o--&gt; &quot;1..*&quot; RevenueSummary&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1..*&quot; MediaLocation&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; MediaIdentifier&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; MediaType&#10;  MediaAsset &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' ADVERTISEMENT &amp; BOOKING&#10;' ===============================&#10;package &quot;Advertisement Subdomain&quot; #LightCoral {&#10;  AGGREGATE_ROOT(AdvertisementCampaign) #LightBlue {&#10;    startDate: Date&#10;    endDate: Date&#10;    budget: Decimal&#10;  }&#10;&#10;  AGGREGATE_ROOT(Advertiser) #LightBlue {&#10;    userId: UUID&#10;    Budget: Decimal&#10;    Employees: Int&#10;  }&#10;&#10;  VALUE_OBJECT(Verification) #Bisque {&#10;    verified: Boolean&#10;    verifiedDate: Date&#10;  }&#10;&#10;  ENTITY(Advertisement) #LightBlue {&#10;    placementId: UUID&#10;    screenTimeMinutes: Int&#10;    cost: Decimal&#10;    approvedByOwner: Boolean&#10;  }&#10;&#10;  ENUM(Status) #Orange {&#10;    ACTIVE&#10;    PENDING&#10;    REJECTED&#10;    EXPIRED&#10;  }&#10;&#10;  VALUE_OBJECT(AdIdentifier) #Bisque {&#10;    adId: UUID&#10;  }&#10;&#10;  Advertiser &quot;1&quot; o--&gt; &quot;1&quot; Verification&#10;  Advertiser &quot;1&quot; o--&gt; &quot;0..*&quot; AdvertisementCampaign&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1&quot; AdIdentifier&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1..*&quot; Advertisement&#10;  AdvertisementCampaign &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' TRANSACTIONS&#10;' ===============================&#10;package &quot;Transactions Subdomain&quot; #LightPink {&#10;  AGGREGATE_ROOT(Transaction) #LightBlue {&#10;    companyName: String&#10;    amount: Decimal&#10;    timestamp: DateTime&#10;  }&#10;&#10;  ENTITY(Invoice) #LightBlue {&#10;    invoiceId: UUID&#10;    dueDate: Date&#10;    paid: Boolean&#10;  }&#10;&#10;   ENUM(Status) #Orange {&#10;     SUCCESS&#10;     PENDING&#10;     FAILED&#10;   }&#10;&#10;  VALUE_OBJECT(TransactionIdentifier) #Bisque {&#10;    transactionId: UUID&#10;  }&#10;&#10;  VALUE_OBJECT(BillingAddress) #Bisque {&#10;    street : String&#10;    city : String&#10;    province : String&#10;    postalCode : String&#10;  }&#10;&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; BillingAddress&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; Invoice&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; TransactionIdentifier&#10;  Transaction &quot;1&quot; o--&gt; &quot;1&quot; Status&#10;}&#10;&#10;' ===============================&#10;' ADMIN &amp; MODERATION&#10;' ===============================&#10;package &quot;Admin &amp; Moderation Subdomain&quot; #LightCyan {&#10;  AGGREGATE_ROOT(Admin) #LightBlue {&#10;    userId: UUID&#10;  }&#10;&#10;  ENTITY(VerificationRequest) #LightBlue {&#10;    requestId: UUID&#10;    advertiserId: UUID&#10;    submittedDocs: URL&#10;  }&#10;&#10;  ENTITY(ContentModeration) #LightBlue {&#10;    moderationId: UUID&#10;    mediaId: UUID&#10;    reason: String&#10;  }&#10;&#10; ENUM(Status) #Orange {&#10;     PENDING&#10;     APPROVED&#10;     REJECTED&#10;   }&#10;&#10;   ENUM(Decision) #Orange {&#10;        ACCEPTED&#10;        DENIED&#10;      }&#10;&#10;  Admin o--&gt; VerificationRequest&#10;  Admin o--&gt; ContentModeration&#10;  VerificationRequest o--&gt; Status&#10;  ContentModeration o--&gt; Decision&#10;}&#10;&#10;' ===============================&#10;' REPORTING &amp; ANALYTICS&#10;' ===============================&#10;package &quot;Reporting Subdomain&quot; #LightGray {&#10;  AGGREGATE_ROOT(Report) #LightBlue {&#10;    reportId: UUID&#10;    generatedAt: DateTime&#10;  }&#10;&#10;  ENTITY(ReportData) #LightBlue {&#10;    dataId: UUID&#10;    metricId: UUID&#10;    value: String&#10;  }&#10;&#10;  ENTITY(Metrics) #LightBlue {&#10;    metricId: UUID&#10;    name: String&#10;    description: String&#10;  }&#10;&#10;  Report &quot;1&quot; o--&gt; &quot;1..*&quot; ReportData&#10;  ReportData &quot;1&quot; o--&gt; &quot;1&quot; Metrics&#10;}&#10;&#10;'===============================&#10;' SUBDOMAIN CONNECTIONS (cross-package)&#10;'===============================&#10;' These associations connect aggregates/entities across subdomains to show interactions like bookings, payments, moderation and reporting.&#10;AdvertisementCampaign &quot;0..*&quot; o--&gt; &quot;1&quot; MediaAsset : &quot;books&quot;&#10;Advertisement &quot;1&quot; o--&gt; &quot;1&quot; MediaOwner : &quot;approvedByOwner&quot;&#10;Transaction &quot;1&quot; o--&gt; &quot;1&quot; AdvertisementCampaign : &quot;payment_for&quot;&#10;Transaction &quot;1&quot; o--&gt; &quot;1&quot; MediaOwner : &quot;payout_to&quot;&#10;VerificationRequest &quot;1&quot; o--&gt; &quot;1&quot; Advertiser : &quot;request_for&quot;&#10;ContentModeration &quot;1&quot; o--&gt; &quot;1&quot; MediaAsset : &quot;moderates&quot;&#10;Report &quot;1&quot; o--&gt; &quot;0..*&quot; AdvertisementCampaign : &quot;includes&quot;&#10;Report &quot;1&quot; o--&gt; &quot;0..*&quot; Transaction : &quot;includes&quot;&#10;Report &quot;1&quot; o--&gt; &quot;0..*&quot; MediaAsset : &quot;includes&quot;&#10;&#10;@enduml" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>