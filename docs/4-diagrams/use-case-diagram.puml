@startuml
left to right direction

' --- Increase spacing and make the box larger ---
skinparam ranksep 40
skinparam nodesep 30
skinparam rectangle {
  Padding 40
  Margin 40
}

actor Advertiser as ADV
actor "Media Owner" as MO
actor Admin as ADM
ADV -[hidden]-> MO
MO  -[hidden]-> ADM

rectangle "Envision Ad" {

  ' --- Advertiser use cases ---
  usecase "Browse Media Inventory" as Browse
  ' usecase "Preview Ad on Media" as Preview
  usecase "Submit Ad for Approval" as Submit
  usecase "Make Ad Payment" as Pay
  usecase "Confirm Proof of Display" as ConfirmProof

  ' --- Media Owner use cases ---
  usecase "Manage Media Listing" as ManageListing
  usecase "List Media" as ListMedia
  usecase "Approve/Deny Ad" as ApproveAd
  usecase "Publish Ad on Media" as PublishAd
  usecase "Provide Proof of Display" as Proof
  usecase "View Ad Requests/History" as ViewAd

  ' --- Admin use cases ---
  usecase "Approve/Deny Media Listing" as ApproveListing
  usecase "Issue Content Warning" as ContentWarning
  usecase "Approve/Deny New Advertiser Account" as ApproveAccount
  usecase "View Admin Dashboard" as AdminDashboard

  ' --- Note ---
  note right of ConfirmProof
  <b>Precondition</b>
  Proof of display must be first
  provided by the Media Owner
  end note

  ' --- Actor connections (solid lines) ---
  ADV -- Browse
  ADV -- Submit
  ADV -- ConfirmProof

  ' keep media owner lines inside rectangle
  MO -[hidden]-> ApproveAd
  MO -[hidden]-> Proof
  MO -- ApproveAd
  MO -- ViewAd
  MO -- ManageListing

  ADM -- ApproveListing
  ADM -- ContentWarning
  ADM -- ApproveAccount
  ADM -- AdminDashboard

  ' --- Relationships (dotted, no arrows, all contained) ---
  ConfirmProof <.. Pay     : <<include>>
  Submit ..> ApproveAd     : <<extend>>
  ConfirmProof <.. Proof   : <<include>>
  ApproveAd <.. Proof      : <<include>>
  ManageListing ..> ListMedia : <<extend>>
  ManageListing ..> PublishAd : <<extend>>
}
@enduml