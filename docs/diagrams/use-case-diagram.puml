@startuml
left to right direction

' --- Increase spacing and make the box larger ---
skinparam ranksep 40
skinparam nodesep 30
skinparam rectangle {
  Padding 40
  Margin 40
}

actor Advertiser as ADV
actor "Media Owner" as MO
actor Admin as ADM

rectangle "Envision Ad" {

  ' --- Advertiser use cases ---
  usecase "Browse Media Inventory" as Browse
  ' usecase "Preview Ad on Media" as Preview
  ' Extracted use case into another diagram "Publish Ad"
  usecase "Publish Ad" as PublishAd
'  usecase "Make Ad Payment" as Pay
'  usecase "Confirm Proof of Display" as ConfirmProof

  ' --- Media Owner use cases ---
  usecase "Manage Media Listing" as ManageListing
  usecase "List Media" as ListMedia
'  usecase "Approve/Deny Ad" as ApproveAd
'  usecase "Publish Ad on Media" as PublishAdOnMedia
'  usecase "Provide Proof of Display" as Proof
  usecase "View Ad Requests/History" as ViewAd

  ' --- Admin use cases ---
  usecase "Approve/Deny Media Listing" as ApproveListing
  usecase "Issue Content Warning" as ContentWarning

note right of PublishAd
  Detailed in separate diagram:
  "Publish Ad â€“ Use Case Detail"
end note

'  ' --- Note ---
'  note right of ConfirmProof
'  <b>Precondition</b>
'  Proof of display must be first
'  provided by the Media Owner
'  end note
'
  ' --- Actor connections (solid lines) ---
  ADV -- Browse
  ADV -- PublishAd
'  ADV -- ConfirmProof

  ' keep media owner lines inside rectangle
'  MO -[hidden]-> ApproveAd
'  MO -[hidden]-> Proof
'  MO -- ApproveAd
  MO -- ViewAd
  MO -- ManageListing

  ADM -- ApproveListing
  ADM -- ContentWarning

  ' --- Relationships (dotted, no arrows, all contained) ---
'  PublishAd <-- Pay     : <<includes>>
'  Request <-- ApproveAd     : <<extends>>
'  ConfirmProof <-- Proof   : <<includes>>
'  ApproveAd <-- Proof      : <<includes>>
  ManageListing <-- ListMedia : <<extends>>
'  ManageListing <-- PublishAdOnMedia : <<extends>>
}
@enduml